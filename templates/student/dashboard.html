<!DOCTYPE html>
<html>
<head>
    <title>Student Dashboard</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(to right, #eef2f3, #dfe9f3);
        }

        .navbar {
            background-color: #0d6efd;
            color: white;
            padding: 12px;
        }

        .card {
            border-radius: 15px;
        }

        .table th {
            background-color: #0d6efd;
            color: white;
        }

        .badge-pending {
            background-color: orange;
        }

        .badge-flagged {
            background-color: red;
        }

        .badge-evaluated {
            background-color: green;
        }

        .info-box {
            font-size: 15px;
        }

        .info-box span {
            font-weight: 600;
        }
    </style>
</head>

<body>

<!-- Navbar -->
<div class="navbar d-flex justify-content-between align-items-center">
    <h4 class="ms-3">ðŸŽ“ Student Dashboard</h4>
    <a href="/logout" class="btn btn-light btn-sm me-3">Logout</a>
</div>

<div class="container mt-4">

    <!-- Student Info -->
    <div class="card p-3 mb-4 shadow-sm info-box">
        <div class="row bg-white p-3 rounded shadow-sm mb-4">
            <div class="col-md-4">
                <strong>Name:</strong> {{ student.name }}
            </div>
        <div class="col-md-4">
        <strong>Roll No:</strong> {{ student.roll_no }}
        </div>
        <div class="col-md-4">
            <strong>Department:</strong> {{ student.department }}
        </div>
    </div>
</div>

    <!-- Submit Project -->
    <div class="card p-4 shadow mb-4">
        <h4 class="mb-3">ðŸ“¤ Submit Project</h4>

        <form method="POST" enctype="multipart/form-data">
            <input class="form-control mb-3" type="text" name="title" placeholder="Project Title" required>

            <textarea class="form-control mb-3" name="description" placeholder="Project Description"></textarea>

            <input class="form-control mb-3" type="file" name="file" required>

            <button class="btn btn-success w-100">Submit Project</button>
        </form>
    </div>

    <!-- Submitted Projects -->
    <div class="card p-4 shadow">
        <h4 class="mb-3">ðŸ“Š Your Submissions</h4>

        <table class="table table-bordered table-hover text-center align-middle">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Similarity %</th>
                    <th>Status</th>
                    <th>Uploaded File</th>
                </tr>
            </thead>

            <tbody>
            {% for p in projects %}
                <tr>
                    <td>{{ p.title }}</td>

                    <td>
                        <strong>{{ p.similarity_percentage }}%</strong>
                    </td>

                    <td>
                    {% if p.status == 'Pending' %}
                        <span class="badge badge-pending">Pending</span>
                        {% elif p.status == 'Flagged' %}
                        <span class="badge badge-flagged">Flagged</span>
                        {% elif p.status == 'Evaluated' %}
                        <span class="badge badge-evaluated">Evaluated</span>
                        {% else %}
                        {{ p.status }}
                        {% endif %}
                    </td>

                    <td>
                        <a href="/uploads/{{ p.file_path }}" class="btn btn-sm btn-primary">
                        Download
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>

        </table>
    </div>

</div>

</body>
</html>
